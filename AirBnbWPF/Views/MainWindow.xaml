<Window x:Class="AirBnbWPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vms="clr-namespace:AirBnbWPF.ViewModels" xmlns:vms1="clr-namespace:AirBnbWPF.ViewModels" 
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="991">
    <Window.DataContext>
        <vms:MainWindowViewModel/>
    </Window.DataContext>

    <Grid HorizontalAlignment="Center" Width="801">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="163*"/>
            <ColumnDefinition Width="77*"/>
            <ColumnDefinition Width="561*"/>
        </Grid.ColumnDefinitions>
        <ListBox ItemsSource="{Binding SelectedLandlord.Properties}" SelectedItem="{Binding SelectedProperty}" DisplayMemberPath="Address" Margin="81,74,545,92" Grid.ColumnSpan="3"/>
        <Button Command="{Binding NewPropertyClick}" Content="Add property" HorizontalAlignment="Left" Margin="116,384,0,0" VerticalAlignment="Top" Grid.Column="2"/>
        <Button Command="{Binding DeletePropertyClick}" Content="Remove" HorizontalAlignment="Left" Margin="95,342,0,0" VerticalAlignment="Top" Grid.Column="2" RenderTransformOrigin="-0.504,0.217" Height="29" Width="89" Background="#FFFB0000" Click="Button_Click_2"/>
        <ListBox Margin="-86,74,81,92" ItemsSource="{Binding AllLandlords}" SelectedItem="{Binding SelectedLandlord}" Foreground="Black" >
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock>
                        <TextBlock.Text>
                            <MultiBinding StringFormat="{}{0} {1}">
                                <Binding Path="FirstName"/>
                                <Binding Path="LastName"/>
                            </MultiBinding>
                        </TextBlock.Text>
                    </TextBlock>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <Label Content="All Landlords" HorizontalAlignment="Left" Margin="-86,48,0,0" VerticalAlignment="Top" Background="#FF403E3E" Width="168" Foreground="#FFFFF6F6"/>
        <Label Content="Properties for selected landlord" HorizontalAlignment="Left" Margin="82,48,0,0" VerticalAlignment="Top" Width="174" Background="#FF403E3E" Foreground="#FFFFF6F6" Grid.ColumnSpan="3"/>

        <ListBox ItemsSource="{Binding AllProperties}" SelectedItem="{Binding SelectedProperty}" DisplayMemberPath="Address" Margin="16,74,377,0" SelectionChanged="ListBox_SelectionChanged_1" Height="268" VerticalAlignment="Top" RenderTransformOrigin="0.829,0.521" Grid.Column="2"/>
        <Button Content="LINK PROPERTY!" Command="{Binding LinkPropertyClick}" HorizontalAlignment="Left" Margin="445,399,0,0" VerticalAlignment="Top" Grid.Column="2"/>
        <Button Command="{Binding SaveClick}" Content="SAVE" HorizontalAlignment="Left" Margin="227,395,0,0" VerticalAlignment="Top" FontSize="22" Grid.Column="2" Background="#FF25CE09" Foreground="White" FontWeight="Bold"/>
        <Label Content="All properties" Margin="16,48,377,0" VerticalAlignment="Top" Background="#FF403E3E" Foreground="#FFFFF6F6" Grid.Column="2"/>
        <Button Content="UNLINK PROPERTY!" Command="{Binding UnlinkPropertyClick}" HorizontalAlignment="Left" Margin="332,390,0,0" VerticalAlignment="Top" Grid.Column="2" Click="Button_Click_1"/>
        <Label Content="All Users" HorizontalAlignment="Left" Margin="184,48,0,0" VerticalAlignment="Top" Background="#FF403E3E" Width="137" Foreground="#FFFFF6F6" Grid.Column="2"/>
        <Label Content="All reservations for selected User" HorizontalAlignment="Left" Margin="321,48,0,0" VerticalAlignment="Top" Background="#FF403E3E" Width="182" Foreground="#FFFFF6F6" Grid.Column="2" Height="26" Opacity="0.99"/>
        <ListBox Margin="184,74,240,92" ItemsSource="{Binding AllUsers}" SelectedItem="{Binding SelectedUser}" Foreground="Black" SelectionChanged="ListBox_SelectionChanged_3" Grid.Column="2" >
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock>
                        <TextBlock.Text>
                            <MultiBinding StringFormat="{}{0} {1}">
                                <Binding Path="FirstName"/>
                                <Binding Path="LastName"/>
                            </MultiBinding>
                        </TextBlock.Text>
                    </TextBlock>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <ListBox Margin="321,74,59,92" ItemsSource="{Binding SelectedUser.Reservations}" SelectedItem="{Binding SelectedReservation}" Foreground="Black" SelectionChanged="ListBox_SelectionChanged_3" Grid.Column="2" >
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock>
                        <TextBlock.Text>
                            <MultiBinding StringFormat="{}Reservation {0} {1} | {2}">
                                <Binding Path="Id"/>
                                <Binding Path="StartDate"/>
                                <Binding Path="EndDate"/>
                            </MultiBinding>
                        </TextBlock.Text>
                    </TextBlock>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <Button Command="{Binding OpenPropertyClick}" Content="Edit" HorizontalAlignment="Left" Margin="16,342,0,0" VerticalAlignment="Top" Grid.Column="2" RenderTransformOrigin="-0.504,0.217" Height="29" Width="79" Background="#FF48E23D" Click="Button_Click_2" Foreground="White"/>
        <Button Command="{Binding OpenLandlordClick}" Content="Edit" HorizontalAlignment="Left" Margin="-86,342,0,0" VerticalAlignment="Top" RenderTransformOrigin="-0.504,0.217" Height="29" Width="79" Background="#FF48E23D" Click="Button_Click_2" Foreground="White"/>
        <Button Command="{Binding DeletePropertyClick}" Content="Remove" Margin="-7,342,81,0" VerticalAlignment="Top" RenderTransformOrigin="-0.504,0.217" Height="29" Background="#FFFB0000" Click="Button_Click_2"/>
    </Grid>
</Window>
